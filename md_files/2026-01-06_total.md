# 합본: 2026-01-06 (병합된 파일)

---

## 파일: 2026-01-06_03_32.md

## 변경 로그 - 2026-01-06 03:32 KST

작업자: 자동 생성 로그

수정 파일:

- `app/routers/auth_router.py`: Google OAuth 콜백 핸들러를 try/except로 감싸서 예외 발생 시 JSON 응답을 반환하도록 변경 (HTML 에러 페이지 반환 방지).
- `app/config/settings.py`: 데이터베이스 환경변수 읽기 로직을 보완하여 `POSTGRES_SERVER` 또는 `DB_HOST`, `POSTGRES_PORT` 또는 `DB_PORT` 모두 지원하도록 변경. `UPLOAD_DIRECTORY` 설정 추가.
- `app/main.py`: 서버 시작 시 `UPLOAD_DIRECTORY` 디렉터리를 자동 생성하도록 startup 이벤트에 디렉터리 생성 로직 추가. React 빌드가 없을 경우 `react/dist/assets` 마운트를 건너뛰도록 보완.
- `docker-compose.yml`: 민감정보 하드코딩 제거, 서비스에 `env_file: .env` 추가 및 `DATABASE_URL`을 env 변수로 구성하도록 변경.
- `react/` 폴더: `npm install` 및 `npm run build` 실행으로 `react/dist` 생성(프론트엔드 빌드 수행).
- `app/config/` 및 기타: 일부 코드 포맷 및 예외 처리 보완.

설명:

위 변경은 개발환경에서 OAuth 흐름의 안정성 향상, 환경변수 관리 개선, 업로드 디렉터리 자동 생성, 프론트엔드 정적 파일 제공 보강을 목표로 합니다.

주의:

- 이 파일은 자동 생성된 변경 로그입니다. 이후 변경 시 동일 형식으로 `md_files/YYYY-MM-DD_HH_MM.md` 파일을 추가합니다.


