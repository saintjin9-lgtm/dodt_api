{% extends "base.html" %}

{% block title %}Create{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">최신 패션을 추천해 드립니다</h1>

    <div class="card p-4">
        <form id="create-form" action="/api/create_task" method="POST" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="style-text" class="form-label">무엇이 궁금하세요?</label>
                <textarea class="form-control" id="style-text" name="text" rows="5" placeholder="만들고 싶은 스타일에 대해 자세히 설명해주세요." required></textarea>
            </div>

            <div class="mb-3">
                <label for="gender-select" class="form-label">성별</label>
                <select class="form-select" id="gender-select" name="gender">
                    <option value="">선택 안 함</option>
                    <option value="male">남성</option>
                    <option value="female">여성</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="age-select" class="form-label">연령대</label>
                <select class="form-select" id="age-select" name="age_group">
                    <option value="">선택 안 함</option>
                    <option value="10s">10대</option>
                    <option value="20s">20대</option>
                    <option value="30s">30대</option>
                    <option value="40s">40대</option>
                    <option value="50s">50대</option>
                    <option value="60s+">60대 이상</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="style-image" class="form-label">이미지 첨부 (선택 사항)</label>
                <input class="form-control" type="file" id="style-image" name="image" accept="image/*">
            </div>

            <div class="d-grid">
                <button type="submit" id="submit-button" class="btn btn-primary">실행</button>
            </div>
        </form>
    </div>
</div>

<script>
    document.getElementById('create-form').addEventListener('submit', function() {
        const submitButton = document.getElementById('submit-button');
        submitButton.disabled = true;
        submitButton.innerHTML = `
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            제출 중...
        `;
    });
</script>
{% endblock %}
